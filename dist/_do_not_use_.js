(()=>{"use strict";
/* eslint-disable */const e=function(e,n){const t=n||window.location.href,o=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},n=function(){const e=["http://localhost:8081","https://web.gomodus.com","https://web-stage.gomodus.com","web.gomodus.com","web-stage.gomodus.com","https://web-dev.gomodus.com","web-dev.gomodus.com"],n=function(n){if(e.indexOf(n.origin)<=-1)return;let t=JSON.parse(n.data),o=t.response||null,a=t.error||null;a?window[t.errorMethodId](a.error):window[t.successMethodId](o)};return{isManaged:function(e){return["getMediaWithPicker","getDeviceFilePicker"].indexOf(e)>-1},start:function(){window.addEventListener("message",n,!1)},send:function(e){window.parent.postMessage(JSON.stringify(e),"*")}}};var t=function(){let t,o,a=null!==e("example");const r=function(r,i){var s=Math.floor(1e7*Math.random()),d=r+"_success_"+s,l=r+"_error_"+s;const u=function(e,n){window[d]=null,window[l]=null,delete window[d],delete window[l],e(n)};return new Promise((function(s,c){window[d]=u.bind(null,s),window[l]=function(e){c(e),window[d]=null,window[l]=null,delete window[d],delete window[l]};let m={methodName:r,data:i,successMethodId:d,errorMethodId:l},w=e("os"),g=navigator.userAgent;return"windows"===w||g.includes("Windows.Desktop")?window.external.notify(JSON.stringify(m)):"ios"===w||window.webkit&&null!=window.webkit.messageHandlers.modus?window.webkit.messageHandlers.modus.postMessage(m):"android"===w||null!=window.appInterface?window.appInterface.postMessage(JSON.stringify(m)):"web"===w&&function(e){return t||(t=new n,t.start()),!!t.isManaged(e.methodName)&&(console.log("Running web bridge method: ",e.methodName),t.send(e),!0)}(m)||o&&function(e){let n=!1,t=e.methodName;if(o&&o[t]&&"function"==typeof o[t]){var a=o[t](e.data);n=!0,a&&a.then?a.then((function(n){window[e.successMethodId](n)})).catch((function(n){window[e.errorMethodId](n)})):a?console.error("Fallback methods needs to return a promise or nothing"):console.warn(t+" was executed but does not return a promise")}else console.warn('No fallback method for "'+t+'" exists');return n}(m)?void 0:a?function(e){var n=null;switch(e.methodName){case"getCurrentUserName":n="Obi Won Kenobi";break;case"getCurrentUserEmail":n="okenobi@jedicouncil.crst";break;case"getAccessToken":n="12x45e783s1234=";break;case"getCurrentUserRegions":n=["Tatooine","Stewjon","Coruscant"];break;case"getItem":case"getGlobalItem":n=localStorage.getItem(e.data.key);break;case"setItem":case"setGlobalItem":localStorage.setItem(e.data.key,e.data.value);break;case"sendAgenda":case"sendEmail":case"sendEmailHtml":var t=e.data,o=t.body?t.body:t.html?t.html:"",a="mailto:"+(t.to?t.to:t.emailAddress)+"?subject="+t.subject+"&body="+o+"&cc="+t.cc;window.open(a);break;case"getAgendas":n=JSON.stringify([{agendaId:"1",agendaTitle:"Bespin Meeting"},{agendaId:"2",agendaTitle:"Endor Visit"},{agendaId:"3",agendaTitle:"Hoth Beach Vacation"}]);break;case"getMediaWithPicker":n=[14342,24232,34124,4135,54231];break;default:return void window[e.errorMethodId]("no example data exists for method")}window[e.successMethodId](n)}(m):void 0}))};return{getCurrentUserName:r.bind(null,"getCurrentUserName",null),getCurrentUserEmail:r.bind(null,"getCurrentUserEmail",null),getCurrentUserRegions:r.bind(null,"getCurrentUserRegions",null),getAccessToken:r.bind(null,"getAccessToken",null),getItem:function(e){return r("getItem",{key:e})},setItem:function(e,n){return r("setItem",{key:e,value:n})},getGlobalItem:function(e){return r("getGlobalItem",{key:e})},setGlobalItem:function(e,n){return r("setGlobalItem",{key:e,value:n})},sendEmail:function(e,n,t,o){return r("sendEmail",{to:e,cc:n,subject:t,body:o})},sendEmailHtml:function(e,n,t,o){return r("sendEmailHtml",{to:e,cc:n,subject:t,html:o})},sendEmailWithFileAttachmentFromBase64:function(e){return r("sendEmailWithFileAttachmentFromBase64",{data:e})},getAgendas:r.bind(null,"getAgendas",null),sendAgenda:function(e,n){return r("sendAgenda",{agendaId:e,emailAddress:n})},asyncHttpRequest:function(e,n,t,o){return r("asyncHttpRequest",{url:e,verb:n,headers:t,body:o})},promptShareMenuWithData:function(e,n){return r("promptShareMenuWithData",{name:e,fileAsBase64:n})},scanBarcode:r.bind(null,"scanPDF417Barcode",null),getMediaWithPicker:function(e){return r("getMediaWithPicker",{excludeMedias:e})},sendFollowup:function(e,n,t){return r("sendFollowup",{step:e,bundle:n,link:t})},previewNextFollowupLink:r.bind(null,"previewNextFollowupLink",null),getFollowupGuid:function(e){return r("getFollowupGuid",{link:e})},getDeviceFilePicker:function(e){return r("getDeviceFilePicker",{uploadParams:e})},registerFallbackFunctions:function(e){o=e},enableExamples:function(e){a=!1!==e}}}();window.Modus=t})();