/* eslint-disable */
const _generateRandomId=function(){return Math.floor(1e7*Math.random())},_getParameterByName=function(e,t){const n=t||window.location.href,o=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(n);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},WebMessenger=function(){const e=["gomodus.com","mytopconnow.topconpositioning.com","showroom.cat.com","lunatigarage.vsgdover.com","salesmaster.volvotrucks.us"],t=["http://localhost:8081"],n=function(n){const o=e.filter((e=>n.origin.indexOf(e)>-1)).length>0,r=t.indexOf(n.origin)>-1;if(!o&&!r)return;let a=JSON.parse(n.data),i=a.response||null,s=a.error||null;s?window[a.errorMethodId](s.error):window[a.successMethodId](i)};return{start:function(){window.addEventListener("message",n,!1)},send:function(e){window.parent.postMessage(JSON.stringify(e),"*")}}};var Modus=function(){let e,t,n=null!==_getParameterByName("example");const o=function(o,r){var a=Math.floor(1e7*Math.random()),i=o+"_success_"+a,s=o+"_error_"+a;return new Promise((function(a,l){window[i]=function(e){window[i]=null,window[s]=null,delete window[i],delete window[s],a(e)},window[s]=function(e){l(e),window[i]=null,window[s]=null,delete window[i],delete window[s]};let d={methodName:o,data:r,successMethodId:i,errorMethodId:s},c=_getParameterByName("os");console.log("Trying to execute: ",o),console.log("OS:",c);let u=navigator.userAgent;if("rn"===c){let e=JSON.stringify(JSON.stringify(d));return console.log("firing rn request, double wrapped: ",e),window.ReactNativeWebView.postMessage("test"),void window.ReactNativeWebView.postMessage(e)}return"windows"===c||u.includes("Windows.Desktop")?window.external.notify(JSON.stringify(d)):"ios"===c||window.webkit&&null!=window.webkit.messageHandlers.modus?window.webkit.messageHandlers.modus.postMessage(d):"android"===c||null!=window.appInterface?window.appInterface.postMessage(JSON.stringify(d)):"web"===c&&function(t){return e||(e=new WebMessenger,e.start()),e.send(t),!0}(d)||t&&function(e){let n=!1,o=e.methodName;if(t&&t[o]&&"function"==typeof t[o]){var r=t[o](e.data);n=!0,r&&r.then?r.then((function(t){window[e.successMethodId](t)})).catch((function(t){window[e.errorMethodId](t)})):r?console.error("Fallback methods needs to return a promise or nothing"):console.warn(o+" was executed but does not return a promise")}else console.warn('No fallback method for "'+o+'" exists');return n}(d)?void 0:n?function(e){var t=null;switch(e.methodName){case"getCurrentUserName":t="Obi Won Kenobi";break;case"getCurrentUserEmail":t="okenobi@jedicouncil.crst";break;case"getAccessToken":t="12x45e783s1234=";break;case"getCurrentUserRegions":t=["Tatooine","Stewjon","Coruscant"];break;case"getUser":t=JSON.stringify({id:12345,email:"okenobi@jedicouncil.crst",first_name:"Obi Won",last_name:"Kenobi"});break;case"getItem":case"getGlobalItem":t=localStorage.getItem(e.data.key);break;case"setItem":case"setGlobalItem":localStorage.setItem(e.data.key,e.data.value);break;case"sendAgenda":case"sendEmail":case"sendEmailHtml":var n=e.data,o=n.body?n.body:n.html?n.html:"",r="mailto:"+(n.to?n.to:n.emailAddress)+"?subject="+n.subject+"&body="+o+"&cc="+n.cc;window.open(r);break;case"getAgendas":t=JSON.stringify([{agendaId:"1",agendaTitle:"Bespin Meeting"},{agendaId:"2",agendaTitle:"Endor Visit"},{agendaId:"3",agendaTitle:"Hoth Beach Vacation"}]);break;case"shareMailTo":break;case"getMediaWithPicker":t=[14342,24232,34124,4135,54231];break;case"getDeviceFilePicker":window[e.errorMethodId]("getDeviceFilePicker is not an implemented example");break;default:return void window[e.errorMethodId]("no example exists for method")}window[e.successMethodId](t)}(d):void 0}))};return{getCurrentUserName:o.bind(null,"getCurrentUserName",null),getCurrentUserEmail:o.bind(null,"getCurrentUserEmail",null),getCurrentUserRegions:o.bind(null,"getCurrentUserRegions",null),getAccessToken:o.bind(null,"getAccessToken",null),getUser:o.bind(null,"getUser",null),getItem:function(e){return o("getItem",{key:e})},setItem:function(e,t){return o("setItem",{key:e,value:t})},getGlobalItem:function(e){return o("getGlobalItem",{key:e})},setGlobalItem:function(e,t){return o("setGlobalItem",{key:e,value:t})},sendEmail:function(e,t,n,r){return o("sendEmail",{to:e,cc:t,subject:n,body:r})},sendEmailHtml:function(e,t,n,r){return o("sendEmailHtml",{to:e,cc:t,subject:n,html:r})},sendEmailWithFileAttachmentFromBase64:function(e){return o("sendEmailWithFileAttachmentFromBase64",{data:e})},getAgendas:o.bind(null,"getAgendas",null),sendAgenda:function(e,t){return o("sendAgenda",{agendaId:e,emailAddress:t})},scanBarcode:o.bind(null,"scanPDF417Barcode",null),getMediaWithPicker:function(e){return o("getMediaWithPicker",{excludeMedias:e})},getDeviceFilePicker:function(e){return o("getDeviceFilePicker",{uploadParams:e})},getAssetsWithPicker:function(e){return(e=>{console.warn("that function not supported in the bridge for that OS yet");const t=_getParameterByName("os");return e.indexOf(t)>-1})(["web"])?o("getAssetsWithPicker",{excludeMediaIds:e}):this.getMediaWithPicker(e)},shareMailTo:function(e){return o("shareMailTo",{mailTo:e})},closeContainer:()=>o("closeContainer",{}),asyncHttpRequest:function(e,t,n,r){return o("asyncHttpRequest",{url:e,verb:t,headers:n,body:r})},promptShareMenuWithData:function(e,t){return o("promptShareMenuWithData",{name:e,fileAsBase64:t})},sendFollowup:function(e,t,n){return o("sendFollowup",{step:e,bundle:t,link:n})},previewNextFollowupLink:o.bind(null,"previewNextFollowupLink",null),getFollowupGuid:function(e){return o("getFollowupGuid",{link:e})},registerFallbackFunctions:function(e){t=e},enableExamples:function(e){n=!1!==e}}}();window.Modus=Modus;export default Modus;